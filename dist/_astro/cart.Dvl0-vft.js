const c="astro_cart_v1";function a(){if(typeof window>"u")return[];try{return JSON.parse(localStorage.getItem(c)||"[]")}catch{return[]}}function o(t){localStorage.setItem(c,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("cart:updated"))}function i(t,e=1){const n=a(),r=n.findIndex(u=>u.id===t.id);r>=0?n[r].qty+=e:n.push({...t,qty:e}),o(n)}function s(t,e){const n=a().map(r=>r.id===t?{...r,qty:e}:r);o(n.filter(r=>r.qty>0))}function d(t){o(a().filter(e=>e.id!==t))}function f(){return a().reduce((t,e)=>t+(e.qty||0),0)}function l(){const t=a().reduce((e,n)=>e+n.price*n.qty,0);return Math.round(t*100)/100}export{f as a,i as b,l as c,a as g,d as r,s as u};
