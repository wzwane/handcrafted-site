import{d,y as o,T as s}from"./hooks.module.DSbBkasN.js";import{u as n,r as h,c as p,g as m}from"./cart.Dvl0-vft.js";import{u as t}from"./jsxRuntime.module.B58DrFjw.js";import"./preact.module.BDNrdXTW.js";function b(){const[l,r]=d([]);o(()=>{const e=()=>r(m());return e(),window.addEventListener("cart:updated",e),()=>window.removeEventListener("cart:updated",e)},[]);const a=s(()=>p(),[l]),i=s(()=>a>=200?0:l.length?12:0,[a,l]),c=s(()=>Math.round((a+i)*100)/100,[a,i]);return t("div",{class:"cartWrap",children:[t("section",{class:"cartPanel",children:[t("h2",{style:"margin:0 0 10px;",children:"Items"}),!l.length&&t("p",{class:"small",style:"margin:0;",children:"Your cart is empty. Add something from Clothing, Sculptures, or Jewelry."}),l.map(e=>t("div",{class:"cartItem",children:[t("img",{class:"cartImg",src:e.image,alt:e.title,loading:"lazy"}),t("div",{children:[t("div",{style:"display:flex; justify-content:space-between; gap:10px;",children:[t("div",{children:[t("div",{style:"font-weight:700;",children:e.title}),t("div",{class:"small",children:[e.brand," • ",e.category]})]}),t("div",{style:"font-weight:800;",children:["$",e.price]})]}),t("div",{class:"qtyRow",style:"margin-top:10px;",children:[t("button",{class:"qtyBtn",onClick:()=>n(e.id,e.qty-1),"aria-label":"Decrease quantity",children:"−"}),t("div",{class:"qty",children:e.qty}),t("button",{class:"qtyBtn",onClick:()=>n(e.id,e.qty+1),"aria-label":"Increase quantity",children:"+"}),t("button",{class:"btn",style:"margin-left:auto; max-width:140px;",onClick:()=>h(e.id),children:"Remove"})]})]})]},e.id))]}),t("aside",{class:"stickyCta",children:[t("div",{class:"cartPanel",children:[t("h2",{style:"margin:0 0 10px;",children:"Summary"}),t("div",{class:"totalRow",children:[t("span",{children:"Subtotal"}),t("span",{children:["$",a.toFixed(2)]})]}),t("div",{class:"small",style:"margin-top:6px;",children:["Shipping: ",i?`$${i.toFixed(2)}`:l.length?"Free":"—"]}),t("hr",{style:"border:0; border-top:1px solid var(--line); margin:12px 0;"}),t("div",{class:"totalRow",children:[t("span",{children:"Total"}),t("span",{children:["$",c.toFixed(2)]})]}),t("button",{class:"btn primary",style:"width:100%; margin-top:12px;",disabled:!l.length,children:"Checkout (demo)"}),t("p",{class:"small",style:"margin:10px 0 0;",children:"This is a demo cart. Connect Stripe/Shopify/Snipcart later."})]}),t("div",{class:"cartPanel",children:[t("div",{style:"font-weight:800; margin-bottom:6px;",children:"Revolve-style vibe, simplified"}),t("div",{class:"small",children:"Fast pages, clean grids, add-to-cart islands."})]})]})]})}export{b as default};
